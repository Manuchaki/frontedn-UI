{"ast":null,"code":"var _jsxFileName = \"/Users/manuchaki/Downloads/frontend-ui/src/components/Sidebar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FaSignOutAlt } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Sidebar({\n  history = [],\n  onSelect,\n  onLogout,\n  isAuthenticated\n}) {\n  _s();\n  const {\n    isGuest,\n    guestAttempts,\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 5;\n  const paginatedHistory = history.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n  const totalPages = Math.ceil(history.length / itemsPerPage);\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleLogout = () => {\n    onLogout();\n    navigate('/login');\n  };\n  if (!isAuthenticated && !isGuest()) {\n    return null; // Do not render the Sidebar if the user is not authenticated or a guest\n  }\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: \"sidebar\",\n    \"aria-label\": \"Chat History Sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-bold text-primary mb-4\",\n      children: \"Your Chat History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), isGuest() && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-4\",\n      children: [\"Guest Access: \", guestAttempts, \" free attempts remaining.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), isGuest() && guestAttempts === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-500 mb-4\",\n      children: [\"You have used all your free attempts. Please\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/register\",\n        className: \"text-primary underline\",\n        children: \"register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), ' ', \"or log in to continue.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-4\",\n      children: [\"Remaining Simplifications: \", (user === null || user === void 0 ? void 0 : user.remainingSimplifications) || 'Unlimited']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), isAuthenticated && (user === null || user === void 0 ? void 0 : user.subscriptionPlan) && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-4\",\n      children: [\"Subscription Plan: \", user.subscriptionPlan]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), history && history.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"history-list\",\n        children: paginatedHistory.map((entry, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"history-item p-2 border rounded cursor-pointer hover:bg-light-gray\",\n          onClick: () => onSelect(entry),\n          role: \"button\",\n          tabIndex: 0,\n          onKeyDown: e => e.key === 'Enter' && onSelect(entry),\n          \"aria-label\": `Chat history entry ${entry.title || `Entry ${index + 1}`}`,\n          children: entry.title || `Entry ${index + 1}`\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-controls mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePreviousPage,\n          disabled: currentPage === 1,\n          className: \"btn btn-secondary mr-2\",\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextPage,\n          disabled: currentPage === totalPages,\n          className: \"btn btn-secondary\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500\",\n      children: \"No history available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"btn btn-danger flex items-center mt-6 w-full\",\n      \"aria-label\": \"Logout\",\n      children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), \" Logout\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Sidebar, \"kf6vgEOwtIZtGoghOIAO0P+7kXs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Sidebar;\nSidebar.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string\n  })),\n  onSelect: PropTypes.func.isRequired,\n  onLogout: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired\n};\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","PropTypes","FaSignOutAlt","useNavigate","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Sidebar","history","onSelect","onLogout","isAuthenticated","_s","isGuest","guestAttempts","user","navigate","currentPage","setCurrentPage","itemsPerPage","paginatedHistory","slice","totalPages","Math","ceil","length","handleNextPage","handlePreviousPage","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","remainingSimplifications","subscriptionPlan","map","entry","index","onClick","role","tabIndex","onKeyDown","e","key","title","disabled","_c","propTypes","arrayOf","shape","string","func","isRequired","bool","$RefreshReg$"],"sources":["/Users/manuchaki/Downloads/frontend-ui/src/components/Sidebar.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FaSignOutAlt } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nfunction Sidebar({ history = [], onSelect, onLogout, isAuthenticated }) {\n  const { isGuest, guestAttempts, user } = useAuth();\n  const navigate = useNavigate();\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 5;\n\n  const paginatedHistory = history.slice(\n    (currentPage - 1) * itemsPerPage,\n    currentPage * itemsPerPage\n  );\n\n  const totalPages = Math.ceil(history.length / itemsPerPage);\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleLogout = () => {\n    onLogout();\n    navigate('/login');\n  };\n\n  if (!isAuthenticated && !isGuest()) {\n    return null; // Do not render the Sidebar if the user is not authenticated or a guest\n  }\n\n  return (\n    <aside className=\"sidebar\" aria-label=\"Chat History Sidebar\">\n      <h2 className=\"text-lg font-bold text-primary mb-4\">Your Chat History</h2>\n      {isGuest() && (\n        <p className=\"text-sm text-gray-500 mb-4\">\n          Guest Access: {guestAttempts} free attempts remaining.\n        </p>\n      )}\n      {isGuest() && guestAttempts === 0 && (\n        <p className=\"text-sm text-red-500 mb-4\">\n          You have used all your free attempts. Please{' '}\n          <a href=\"/register\" className=\"text-primary underline\">\n            register\n          </a>{' '}\n          or log in to continue.\n        </p>\n      )}\n      {isAuthenticated && (\n        <p className=\"text-sm text-gray-500 mb-4\">\n          Remaining Simplifications: {user?.remainingSimplifications || 'Unlimited'}\n        </p>\n      )}\n      {isAuthenticated && user?.subscriptionPlan && (\n        <p className=\"text-sm text-gray-500 mb-4\">\n          Subscription Plan: {user.subscriptionPlan}\n        </p>\n      )}\n      {history && history.length > 0 ? (\n        <>\n          <ul className=\"history-list\">\n            {paginatedHistory.map((entry, index) => (\n              <li\n                key={index}\n                className=\"history-item p-2 border rounded cursor-pointer hover:bg-light-gray\"\n                onClick={() => onSelect(entry)}\n                role=\"button\"\n                tabIndex={0}\n                onKeyDown={(e) => e.key === 'Enter' && onSelect(entry)}\n                aria-label={`Chat history entry ${entry.title || `Entry ${index + 1}`}`}\n              >\n                {entry.title || `Entry ${index + 1}`}\n              </li>\n            ))}\n          </ul>\n          <div className=\"pagination-controls mt-4\">\n            <button\n              onClick={handlePreviousPage}\n              disabled={currentPage === 1}\n              className=\"btn btn-secondary mr-2\"\n            >\n              Previous\n            </button>\n            <button\n              onClick={handleNextPage}\n              disabled={currentPage === totalPages}\n              className=\"btn btn-secondary\"\n            >\n              Next\n            </button>\n          </div>\n        </>\n      ) : (\n        <p className=\"text-sm text-gray-500\">No history available.</p>\n      )}\n      {isAuthenticated && (\n        <button\n          onClick={handleLogout}\n          className=\"btn btn-danger flex items-center mt-6 w-full\"\n          aria-label=\"Logout\"\n        >\n          <FaSignOutAlt className=\"mr-2\" /> Logout\n        </button>\n      )}\n    </aside>\n  );\n}\n\nSidebar.propTypes = {\n  history: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n    })\n  ),\n  onSelect: PropTypes.func.isRequired,\n  onLogout: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n};\n\nexport default Sidebar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}